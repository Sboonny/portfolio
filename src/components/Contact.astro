---
if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const name = data.get("username");
    const email = data.get("email");
    const content = data.get("content");
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<form
  action="/contact"
  method="POST"
  class="my-4 ml-auto w-full max-w-6xl sm:mr-auto lg:mr-0"
>
  <fieldset class="unset mx-4 flex flex-col rounded-lg">
    <legend class="mt-0 pt-0 text-2xl font-semibold tracking-tight"
      >Contact me</legend
    ><p class="mt-0 pt-0 text-sm opacity-70">
      Please fill out the form below and I will get back to you as soon as
      possible.
    </p>
    <div class="grid grid-cols-2 gap-4 py-2">
      <div class="space-y-2">
        <label
          class="text-slate-700f text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="first-name">First Name</label
        ><input
          class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          id="first-name"
          placeholder="Enter your first name"
        />
      </div>
      <div class="space-y-2">
        <label
          class="text-slate-700f text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="last-name">Last Name</label
        ><input
          class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          id="last-name"
          placeholder="Enter your last name"
        />
      </div>
    </div>
    <div class="space-y-2">
      <label
        class="text-slate-700f text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
        for="email">Email Address</label
      ><input
        class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        id="email"
        placeholder="Enter your email"
        type="email"
      />
    </div>
    <div class="space-y-2 py-2">
      <label
        class="text-slate-700f text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
        for="message">Message</label
      ><textarea
        class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[100px] w-full rounded-md border px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        id="message"
        placeholder="Enter your message"></textarea>
    </div>
    <button
      class="ring-offset-background focus-visible:ring-ring hover:bg-primary/90 mt-4 inline-flex h-10 w-full items-center justify-center space-y-3 rounded-md bg-black px-4 py-2 text-sm font-medium text-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:bg-slate-50 dark:text-black"
      >Submit</button
    >
  </fieldset>
</form>
